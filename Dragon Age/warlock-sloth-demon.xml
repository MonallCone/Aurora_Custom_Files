<?xml version="1.0" encoding="utf-8" ?>
<elements>
  <info>
    <name>Sloth Demon</name>
    <update version="7.0.0">
      <file name="warlock-sloth-demon.xml" url="https://raw.githubusercontent.com/MonallCone/Aurora_Custom_Files/refs/heads/main/Dragon%20Age/warlock-sloth-demon.xml" />
    </update>
  </info>
  <element name="Sloth Demon" type="Archetype" source="Dragon Age" id="ID_DA_ARCHETYPE_SLOTH_DEMON">
    <supports>Otherworldly Patron</supports>
    <description>
      <p>Sloth Demons are creatures of languor and apathy, manipulating the threads of time, sleep, and fatigue. A Warlock who forms a pact with a Sloth Demon taps into the power of inefficiency, drowsiness, and indulgence. Their power comes not from haste, but from the slow unraveling of willpower and energy, weakening their enemies with lethargy and time. Through this pact, they become masters of debilitating magic, inducing exhaustion and controlling the flow of rest.</p>
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_EXPANDED_SPELL_LIST" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_BONUS_SPELLS" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_INDUCED_SLUMBER" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_AURA_OF_LANGOUR" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_LETHARGIC_IMMUNITY" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_WASTING_AWAY" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOTHFUL_HINDERENCE" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_KISS_OF_SLUMBER" />
    </description>
    <sheet display="false">
      <description>Your patron is a powerful Demon of Sloth</description>
    </sheet>
    <rules>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_EXPANDED_SPELL_LIST" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_BONUS_SPELLS" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_INDUCED_SLUMBER" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_AURA_OF_LANGOUR" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_LETHARGIC_IMMUNITY" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_WASTING_AWAY" level="6"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOTHFUL_HINDERENCE" level="10"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_KISS_OF_SLUMBER" level="14"/>
    </rules>
  </element>
  <element name="Expanded Spell List" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_EXPANDED_SPELL_LIST">
    <supports>Warlock</supports>
    <description>
      <p>The Pact of Sloth grants you additional spells at the Warlock levels listed in the Pact of Sloth Spells table. These spells do not count against the number of Warlock spells you can prepare.</p>
      <h5>SLOTH EXPANDED SPELLS</h5>
      <table>
        <thead>
          <tr><td>Spell Level</td><td>Spells</td></tr>
        </thead>
        <tr><td>1st</td><td><em>Bane, Wrack</em></td></tr>
        <tr><td>2nd</td><td><em>Hold Person, Blur</em></td></tr>
        <tr><td>3rd</td><td><em>Walking Bomb, Hypnotic Pattern</em></td></tr>
        <tr><td>4th</td><td><em>Greater Invisiblity, Blight</em></td></tr>
        <tr><td>5th</td><td><em>Cloudkill, Cone of Cold</em></td></tr>
      </table>
    </description>
    <sheet display="false">
      <description>The Celestial lets you choose from an expanded list of spells when you learn a warlock spell.</description>
    </sheet>
    <spellcasting name="Warlock" extend="true">
      <extend>ID_PHB_SPELL_BANE</extend>
      <extend>ID_DA_SPELL_WRACK</extend>
      <extend>ID_PHB_SPELL_HOLD_PERSON</extend>
      <extend>ID_PHB_SPELL_BLUR</extend>
      <extend>ID_DA_SPELL_WALKING_BOMB</extend>
      <extend>ID_PHB_SPELL_HYPNOTIC_PATTERN</extend>
      <extend>ID_PHB_SPELL_GREATER_INVISIBILITY</extend>
      <extend>ID_PHB_SPELL_BLIGHT</extend>
      <extend>ID_PHB_SPELL_CLOUDKILL</extend>
      <extend>ID_PHB_SPELL_CONE_OF_COLD</extend>
    </spellcasting>
  </element>
    <element name="Bonus Spells" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_BONUS_SPELLS">
        <description>
            <p>At 1st level, you learn the <i>Sleep</i> and at 5th level <i>Slow</i>. They count as warlock spells for you, but they don’t count against your number of spells known.</p>
        </description>
        <sheet display="false">
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_SLEEP" level="1" spellcasting="Warlock" />
            <grant type="Spell" id="ID_PHB_SPELL_SLOW" level="5" spellcasting="Warlock" />
        </rules>
    </element>
    <element name="Induced Slumber" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_INDUCED_SLUMBER">
        <description>
            <p>You have a pool of hit points equal to 10 times your Warlock level, which you can use to fuel your Sleep spell. As a reaction to being hit by an attack, you can spend hit points from your pool to cast Sleep on a target you can see within 60 feet, matching the hit point or exceeding will immediately cause the creature to fall asleep, failing to use the right amount of hit points the creature must make a charisma savuing throw against your spell save dc on fail has disadvantage on its next attack. Additionally, when you cast Sleep using a spell slot, you can add the hit points from your pool to the spell’s dice roll, increasing its effectiveness. Additionally creatures you sleep will not wake up from your attacks but still from other sources of damage or being shaken awake.</p>
        </description>
        <sheet>
            <description usage="{{induced-slumber:pool}}/Short Rest">
                <p>
                    <ul>
                        <li>As a Reaction to being attacked you can target any creature within 60 feet and use an amount of hit points in the pool to sleep the target. If you do not match the hit points to sleep the target they must make a DC{{induced-slumber:dc}} charisma saving throw or have disadvatage on their next attack.</li>
                        <li> When you cast Sleep using a spell slot, you can add the hit points from your pool to the spell’s dice roll.</li>
                        <li> Creatures you sleep will not wake up from your attacks but still from other sources of damage or being shaken awake. You can use the pool of hit points in various ways</li>
                    </ul>
                </p>             
            </description>
        </sheet>
        <rules>
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            <stat name="induced-slumber:pool" value="level:warlock" />
            
            <stat name="induced-slumber:dc" value="8" />
            <stat name="induced-slumber:dc" value="charisma:modifier" />
            <stat name="induced-slumber:dc" value="proficiency" />
        </rules>
    </element>
    <element name="Aura of Languor" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_AURA_OF_LANGOUR">
        <description>
            <p>At the start of combat, you can target a number of creatures within 60 feet that you can see, equal to your Charisma modifier (minimum of 1). Each target must subtract your Charisma modifier from their initiative rolls. This may cause their turns to occur later in the initiative order. You can use this ability once per long rest.</p>
        </description>
        <sheet usage="1/Long Rest">
            <description>At the start of combat, you can target up to {{aura-langour:target}} creatures within 60 feet that you can see. Each of those creatures must subtract {{aura-langour:initiative}} from their initiative roll.</description>
        </sheet>
        <rules>
            <stat name="aura-langour:target" value="1" bonus="aura of langour"/>
            <stat name="aura-langour:target" value="charisma:modifier" bonus="aura of langour"/>
            <stat name="aura-langour:initiative" value="charisma:modifier"/>
        </rules>
    </element>
    <element name="Lathargic Immunity" type="Racial Trait" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_LETHARGIC_IMMUNITY">
        <description>
            <p>The Sloth Demon patron's power over your body and mind prevents any external force from putting you to sleep. You are immune to the Sleep spell and any effect that would put you to sleep magically. Only the Sloth Demon may impose slumber upon you, as they desire your rest for themselves. If a creature attempts to cast Sleep on you or otherwise induce sleep through magical means, the effect is automatically failed, and the magic dissipates harmlessly.</p>
        </description>
        <sheet>
            <description>Magic can't put you to Sleep</description>
        </sheet>
    </element>
    <element name="Wasting Away" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_WASTING_AWAY">
        <description>
          <p>At 6th level, your powers over exhaustion and time deepen. You gain the following abilities
              <ul>
                    <li>
                    <strong>Energy Drain</strong> When you hit a creature with an attack, you can choose to siphon some of their energy. The creature must succeed on a Constitution saving throw against your Warlock spell save DC or suffer a level of exhaustion. If they fail by 5 or more, they suffer 2 levels of exhaustion instead. You can use this feature number of times equal to you proficiency bonus, you recover all charges on a long rest.
                    </li>
                    <li>
                    <strong>Slow Time</strong>Once per long rest, you can use an action to cast Slow without expending a spell slot. The duration is not affected by concentration and lasts for 1 minute. You can use this feature again after a long rest.
                    </li>
                </ul>
            </p>
        </description>
        <sheet display="false" />
        <rules>
            <grant type="Class Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_ENERGY_DRAIN"/>
            <grant type="Class Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOW_TIME"/>
        </rules>
    </element>
    <element name="Energy Drain" type="Class Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_ENERGY_DRAIN">
        <description>When you hit a creature with an attack, you can choose to siphon some of their energy. The creature must succeed on a Constitution saving throw against your Warlock spell save DC or suffer a level of exhaustion. If they fail by 5 or more, they suffer 2 levels of exhaustion instead. Once you use this feature, You can use this feature number of times equal to you proficiency bonus, you recover all charges on a long rest</description>
        <sheet action="Reaction" usage="{{proficiency}}/Long Rest">
            <p >When you hit a creature with an attack, The creature must succeed on a Constitution saving throw or suffer a level of exhaustion. If they fail by 5 or more, they suffer 2 levels of exhaustion instead.</p>
        </sheet>
    </element>
    <element name="Slow Time" type="Class Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOW_TIME">
        <description>Once per long rest, you can use an action to cast Slow without expending a spell slot. The duration is not affected by concentration and lasts for 1 minute. You can use this feature again after a short rest.</description>
        <sheet action="Action" usage="Short Rest">
            <p>You can use an action to cast Slow without expending a spell slot. The duration is not affected by concentration and lasts for 1 minute.</p>
        </sheet>
    </element>
    <element name="Slothful Hinderence" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOTHFUL_HINDERENCE">
        <description>
          <p>At 10th level, your patron's influence allows you to endure the passage of time more easily, while your enemies falter under their own weight. Whenever you deal damage to a creature that is suffering from exhaustion, you can deal additional necrotic damage equal to your Charisma modifier (minimum of 1) to that creature. If the creature has 2 or more levels of exhaustion, this damage increases to 2 times your Charisma modifier. </p>
        </description>
        <sheet>
          <description>Whenever you deal damage to a creature that is suffering from exhaustion, you can deal additional {{sloth-hinderence-lvl1:dmg}} necrotic damage to that creature. If the creature has 2 or more levels of exhaustion, the damage is {{sloth-hinderence-lvl2:dmg}}</description>
        </sheet>
        <rules>
          <stat name="sloth-hinderence-lvl1:dmg" value="1" bonus="1 level"/>
          <stat name="sloth-hinderence-lvl1:dmg" value="charisma:modifier" bonus="1 level"/>
          <stat name="sloth-hinderence-lvl2:dmg" value="charisma:modifier"/>
          <stat name="sloth-hinderence-lvl2:dmg" value="charisma:modifier"/>
        </rules>
  </element>
  <element name="Kiss of Slumber" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_KISS_OF_SLUMBER">
    <description>
      <p>At 14th level, your connection to the Sloth Demon reaches its peak, allowing you to overwhelm the will of others with lethargy and despair. As an action, you can force a creature within 30 feet to make a Wisdom saving throw against your Warlock spell save DC. On a failed save, the creature becomes paralyzed with lethargy for 1 minute, as their body succumbs to deep exhaustion. While paralyzed, the creature’s speed becomes 0, and it automatically fails Strength and Dexterity saving throws. The creature can repeat the saving throw at the end of each of its turns, ending the effect on a success. Once you use this ability, you cannot use it again until you finish a long rest.</p>
    </description>
    <sheet action="Action" usage="Short Rest">
      <description>You can force a creature within 30 feet to make a Wisdom saving throw. On a failed save, the creature becomes paralyzed with lethargy for 1 minute. While paralyzed, the creature’s speed becomes 0, and it automatically fails Strength and Dexterity saving throws. The creature can repeat the saving throw at the end of each of its turns, ending the effect on a success.</description>
    </sheet>
  </element>
</elements>
