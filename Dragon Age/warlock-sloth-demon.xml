<?xml version="1.0" encoding="utf-8" ?>
<elements>
  <info>
    <name>Sloth Demon</name>
    <update version="13.0.0">
      <file name="warlock-sloth-demon.xml" url="https://raw.githubusercontent.com/MonallCone/Aurora_Custom_Files/refs/heads/main/Dragon%20Age/warlock-sloth-demon.xml" />
    </update>
  </info>
  <element name="Sloth Demon" type="Archetype" source="Dragon Age" id="ID_DA_ARCHETYPE_SLOTH_DEMON">
    <supports>Otherworldly Patron</supports>
    <description>
      <p>Sloth Demons are creatures of languor and apathy, manipulating the threads of time, sleep, and fatigue. A Warlock who forms a pact with a Sloth Demon taps into the power of inefficiency, drowsiness, and indulgence. Their power comes not from haste, but from the slow unraveling of willpower and energy, weakening their enemies with lethargy and time. Through this pact, they become masters of debilitating magic, inducing exhaustion and controlling the flow of rest.</p>
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_EXPANDED_SPELL_LIST" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_BONUS_SPELLS" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOTHS_DREAM" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_AURA_OF_LANGOUR" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_LETHARGIC_IMMUNITY" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_WASTING_AWAY" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_DROWSY_AGGRESSION" />
      <div element="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_KISS_OF_SLUMBER" />
    </description>
    <sheet display="false">
      <description>Your patron is a powerful Demon of Sloth</description>
    </sheet>
    <rules>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_EXPANDED_SPELL_LIST" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_BONUS_SPELLS" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOTHS_DREAM" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_AURA_OF_LANGOUR" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_LETHARGIC_IMMUNITY" level="1"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_WASTING_AWAY" level="6"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_DROWSY_AGGRESSION" level="10"/>
      <grant type="Archetype Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_KISS_OF_SLUMBER" level="14"/>
    </rules>
  </element>
  <element name="Expanded Spell List" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_EXPANDED_SPELL_LIST">
    <supports>Warlock</supports>
    <description>
      <p>The Pact of Sloth grants you additional spells at the Warlock levels listed in the Pact of Sloth Spells table. These spells do not count against the number of Warlock spells you can prepare.</p>
      <h5>SLOTH EXPANDED SPELLS</h5>
      <table>
        <thead>
          <tr><td>Spell Level</td><td>Spells</td></tr>
        </thead>
        <tr><td>1st</td><td><em>Bane, Wrack</em></td></tr>
        <tr><td>2nd</td><td><em>Hold Person, Blur</em></td></tr>
        <tr><td>3rd</td><td><em>Walking Bomb, Hypnotic Pattern</em></td></tr>
        <tr><td>4th</td><td><em>Greater Invisiblity, Blight</em></td></tr>
        <tr><td>5th</td><td><em>Cloudkill, Cone of Cold</em></td></tr>
      </table>
    </description>
    <sheet display="false">
      <description>The Sloth Demon lets you choose from an expanded list of spells when you learn a warlock spell.</description>
    </sheet>
    <spellcasting name="Warlock" extend="true">
      <extend>ID_PHB_SPELL_BANE</extend>
      <extend>ID_DA_SPELL_WRACK</extend>
      <extend>ID_PHB_SPELL_HOLD_PERSON</extend>
      <extend>ID_PHB_SPELL_BLUR</extend>
      <extend>ID_DA_SPELL_WALKING_BOMB</extend>
      <extend>ID_PHB_SPELL_HYPNOTIC_PATTERN</extend>
      <extend>ID_PHB_SPELL_GREATER_INVISIBILITY</extend>
      <extend>ID_PHB_SPELL_BLIGHT</extend>
      <extend>ID_PHB_SPELL_CLOUDKILL</extend>
      <extend>ID_PHB_SPELL_CONE_OF_COLD</extend>
    </spellcasting>
  </element>
    <element name="Bonus Spells" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_BONUS_SPELLS">
        <description>
            <p>At 1st level, you learn the <i>Sleep</i> and at 5th level <i>Slow</i>. They count as warlock spells for you, but they don’t count against your number of spells known.</p>
        </description>
        <sheet display="false">
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_SLEEP" level="1" spellcasting="Warlock" />
            <grant type="Spell" id="ID_PHB_SPELL_SLOW" level="5" spellcasting="Warlock" />
        </rules>
    </element>
    <element name="Sloth's Dream" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOTHS_DREAM"> 
        <description>
            <p>You gain the abilty to put a large number of enemies in a deep trance, Any enemy within a 10ft radius centered on you must make a DC save of your choosing against you warlock spell save DC. When an enemy is slept this way they repeat the saving throw at the end of each of their turns. A sleeping creature will wake up if they take damage unless the damage was dealt by you and is magical in nature. Any creature that wakes up from this cannot take reactions and speed is halved till the start of their next turn. Range increases by 5ft at levels 3, 6, 10 and 14</p>
        </description>
        <sheet>
            <description usage="1/Short Rest">
                <p>Centered on you any creature within {{sloths-dream:range}}ft must make a saving throw of your choice against your spell save DC. On fail they instantly fall asleep and will repeat the saving throw at the end of each of their next turns. They will wake if any damage is dealt to them unless that damage is a spell or cantrip from you instead they repeat the saving throw. Any creature that wakes up can't take reactions and speed is halved until the start of their next turn</p>
            </description>
        </sheet>
        <rules>
          <stat name="sloths-dream:range" value="10" level="1"/>
          <stat name="sloths-dream:range" value="5" level="3"/>
          <stat name="sloths-dream:range" value="5" level="6"/>
          <stat name="sloths-dream:range" value="5" level="10"/>
          <stat name="sloths-dream:range" value="5" level="14"/>
        </rules>
    </element>
    <element name="Aura of Languor" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_AURA_OF_LANGOUR">
        <description>
            <p>At the start of combat, you can target a number of creatures within 60 feet that you can see, equal to your Charisma modifier (minimum of 1). Each target must subtract your Charisma modifier from their initiative rolls. This may cause their turns to occur later in the initiative order. You can use this ability once per long rest.</p>
        </description>
        <sheet usage="1/Long Rest">
            <description>At the start of combat, you can target up to {{aura-langour:target}} creatures within 60 feet that you can see. Each of those creatures must subtract {{aura-langour:initiative}} from their initiative roll.</description>
        </sheet>
        <rules>
            <stat name="aura-langour:target" value="1" bonus="aura of langour"/>
            <stat name="aura-langour:target" value="charisma:modifier" bonus="aura of langour"/>
            <stat name="aura-langour:initiative" value="charisma:modifier"/>
        </rules>
    </element>
    <element name="Lathargic Immunity" type="Racial Trait" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_LETHARGIC_IMMUNITY">
        <description>
            <p>The Sloth Demon patron's power over your body and mind prevents any external force from putting you to sleep. You are immune to the Sleep spell and any effect that would put you to sleep magically. Only the Sloth Demon may impose slumber upon you, as they desire your rest for themselves. If a creature attempts to cast Sleep on you or otherwise induce sleep through magical means, the effect is automatically failed, and the magic dissipates harmlessly.</p>
        </description>
        <sheet>
            <description>Magic can't put you to Sleep</description>
        </sheet>
    </element>
    <element name="Wasting Away" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_WASTING_AWAY">
        <description>
          <p>At 6th level, your powers over exhaustion and time deepen. You gain the following abilities
              <ul>
                    <li>
                    <strong>Slothful Hinderence</strong> When you hit a creature with an attack, you can choose to siphon some of their energy. The creature must succeed on a Wisdom saving throw against your Warlock spell save DC or suffer a level of exhaustion. If they fail by 5 or more, they suffer 2 levels of exhaustion instead. This feature does not stack but can affect multiple creatures at the same time. You can use this feature number of times equal to you proficiency bonus, you recover all charges on a long rest. Additionally when you hit a creature with exhaustaion you deal necrotic damage equal to your charisma modifier per level of exhaustion (max 3)
                    </li>
                    <li>
                    <strong>Slow Time</strong>Once per long rest, you can use an action to cast Slow without expending a spell slot. The duration is not affected by concentration and lasts for 1 minute. You can use this feature again after a long rest.
                    </li>
                </ul>
            </p>
        </description>
        <sheet display="false" />
        <rules>
            <grant type="Class Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOTHFUL_HINDERENCE"/>
            <grant type="Class Feature" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOW_TIME"/>
        </rules>
    </element>
    <element name="Slothful Hinderence" type="Class Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOTHFUL_HINDERENCE">
        <description>When you hit a creature with an attack, you can choose to siphon some of their energy. The creature must succeed on a Wisdom saving throw against your Warlock spell save DC or suffer a level of exhaustion. If they fail by 5 or more, they suffer 2 levels of exhaustion instead. This feature does not stack but can affect multiple creatures at the same time. You can use this feature number of times equal to you proficiency bonus, you recover all charges on a short rest. Additionally when you hit a creature with exhaustaion you deal necrotic damage equal to your charisma modifier per level of exhaustion (max 3)</description>
        <sheet usage="{{proficiency}}/Short Rest">
            <p >When you hit a creature with an attack, The creature must succeed on DC{{sloth-hinderence:dc}} Wisdom saving throw or suffer a level of exhaustion. If they fail by 5 or more, they suffer 2 levels of exhaustion instead. You deal {{sloth-hinderence:dmg}} necrotic damage per level of exhaustion (max 3 levels)</p>
        </sheet>
        <rules>
            <stat name="sloth-hinderence:dmg" value="1" bonus="s-h:dmg"/>
            <stat name="sloth-hinderence:dmg" value="charisma:modifier" bonus="s-h:dmg"/>
            <stat name="sloth-hinderence:dc" value="8"/>
            <stat name="sloth-hinderence:dc" value="proficiency"/>
            <stat name="sloth-hinderence:dc" value="charisma:modifier"/>
        </rules>
    </element>
    <element name="Slow Time" type="Class Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_SLOW_TIME">
        <description>Once per long rest, you can use an action to cast Slow without expending a spell slot. The duration is not affected by concentration and lasts for 1 minute. You can use this feature again after a short rest.</description>
        <sheet action="Action" usage="Short Rest">
            <p>You can use an action to cast Slow without expending a spell slot. The duration is not affected by concentration and lasts for 1 minute.</p>
        </sheet>
    </element>
    <element name="Drowsy Aggresion" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_DROWSY_AGGRESSION">
        <description>
          <p>At 10th level, your patron's influence allows you to endure the passage of time more easily, while your enemies falter under their own weight. When you area attacked as a reaction you can make the attacker make a wisdom saving throw, on fail they miss their attack and gain 1 level of exhaustion. Additionally you heal for 1d10 + charisma modifier. You can use this number of times equal to your charisma modifier</p>
        </description>
        <sheet action="Reaction" usage="{{charimsa:modifier}}/Long Rest">
          <description>When attacked you can make the enemy make a DC{{drowsy-aggression:dc}} Wisdom save, on fail they miss their attack and gain a level of exhaustion and you heal for 1d10+{{charisma:modifier}}</description>
        </sheet>
        <rules>
          <stat name="drowsy-aggression:dc" value="8"/>
          <stat name="drowsy-aggression:dc" value="proficiency"/>
          <stat name="drowsy-aggression:dc" value="charisma:modifier"/>
        </rules>
  </element>
  <element name="Kiss of Slumber" type="Archetype Feature" source="Dragon Age" id="ID_DA_ARCHETYPE_FEATURE_SLOTH_DEMON_KISS_OF_SLUMBER">
    <description>
      <p>At 14th level, your connection to the Sloth Demon reaches its peak, allowing you to overwhelm the will of others with lethargy and despair. As an action, you can force a creature within 30 feet to make a Wisdom saving throw against your Warlock spell save DC. On a failed save, the creature becomes paralyzed with lethargy for 1 minute, as their body succumbs to deep exhaustion. While paralyzed, the creature’s speed becomes 0, and it automatically fails Strength and Dexterity saving throws. The creature can repeat the saving throw at the end of each of its turns, ending the effect on a success. Once you use this ability, you cannot use it again until you finish a long rest.</p>
    </description>
    <sheet action="Action" usage="Short Rest">
      <description>You can force a creature within 30 feet to make a Wisdom saving throw. On a failed save, the creature becomes paralyzed with lethargy for 1 minute. While paralyzed, the creature’s speed becomes 0, and it automatically fails Strength and Dexterity saving throws. The creature can repeat the saving throw at the end of each of its turns, ending the effect on a success.</description>
    </sheet>
  </element>
</elements>
